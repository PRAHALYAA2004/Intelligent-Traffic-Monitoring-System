<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signal Management - TrafficIQ</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/dashboard.css">
    <link rel="stylesheet" href="../css/traffic-simulation.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar (same as in admin-dashboard.html) -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>TrafficIQ</h1>
                <span class="admin-badge">Admin</span>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li>
                        <a href="admin-dashboard.html">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="active">
                        <a href="traffic-signal.html">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                            <span>Signal Management</span>
                        </a>
                    </li>
                    <li>
                        <a href="traffic-risk.html">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 1-1.73 1H.18a2 2 0 0 0-2 2v.44a2 2 0 0 0 2 2h.18a2 2 0 0 1 1.73 1l.25.43a2 2 0 0 1 0 2l-.08.15a2 2 0 0 0 .73 2.73l.38.22a2 2 0 0 1 1 1.73V21.82a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 1 1.73-1h.18a2 2 0 0 0 2-2v-.44a2 2 0 0 0-2-2h-.18a2 2 0 0 1-1.73-1l-.25-.43a2 2 0 0 1 0-2l.08-.15a2 2 0 0 0-.73-2.73l-.38-.22a2 2 0 0 1-1-1.73V4.18a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                            <span>Traffic Risks</span>
                        </a>
                    </li>
                    <li>
                        <a href="entry-exit.html">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 1-1.73 1H.18a2 2 0 0 0-2 2v.44a2 2 0 0 0 2 2h.18a2 2 0 0 1 1.73 1l.25.43a2 2 0 0 1 0 2l-.08.15a2 2 0 0 0 .73 2.73l.38.22a2 2 0 0 1 1 1.73V21.82a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 1 1.73-1h.18a2 2 0 0 0 2-2v-.44a2 2 0 0 0-2-2h-.18a2 2 0 0 1-1.73-1l-.25-.43a2 2 0 0 1 0-2l.08-.15a2 2 0 0 0-.73-2.73l-.38-.22a2 2 0 0 1-1-1.73V4.18a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                            <span>Entry - Exit</span>
                        </a>
                    </li>
                    <li>
                        <a href="user-management.html">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                            <span>Parking Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="camera-management.html">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"></path><circle cx="12" cy="13" r="3"></circle></svg>
                            <span>Bus Scheduling</span>
                        </a>
                    </li>
                    <li>
                        <a href="signal-management.html">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><rect width="10" height="20" x="7" y="2" rx="2"></rect><circle cx="12" cy="7" r="2"></circle><circle cx="12" cy="12" r="2"></circle><circle cx="12" cy="17" r="2"></circle></svg>
                            <span>Penalty System</span>
                        </a>
                    </li>
                    <li>
                        <a href="penalty-management.html">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><circle cx="12" cy="12" r="10"></circle><path d="m15 9-6 6"></path><path d="m9 9 6 6"></path></svg>
                            <span>School Zone speed</span>
                        </a>
                    </li>
                    <li>
                        <a href="real-time-alerts.html">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path></svg>
                            <span>Real-Time Alerts</span>
                        </a>
                    </li>
                    <li>
                        <a href="reports.html">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><path d="M14 2v6h6"></path><path d="M16 13H8"></path><path d="M16 17H8"></path><path d="M10 9H8"></path></svg>
                            <span>Reports & Analytics</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <a href="#" class="user-profile">
                    <div class="avatar admin">AD</div>
                    <div class="user-info">
                        <h4>Admin User</h4>
                        <p>System Administrator</p>
                    </div>
                </a>
                <a href="../login.html" class="logout-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>
                    <span>Logout</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="dashboard-header">
                <div class="menu-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg>
                </div>
                <h2>Signal Management</h2>
                <div class="header-actions">
                    <div class="time-display">
                        <div class="current-time" id="currentTime">5:30 PM</div>
                        <div class="current-date" id="currentDate">Wednesday, March 19, 2025</div>
                    </div>
                    <div class="search-bar">
                        <input type="text" placeholder="Search...">
                        <button>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>
                        </button>
                    </div>
                    <button class="notification-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path></svg>
                        <span class="badge">3</span>
                    </button>
                </div>
            </header>
            
            <div class="dashboard-content">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
                        </div>
                        <div class="stat-info">
                            <h3>Average Wait Time</h3>
                            <p class="stat-value" id="avgWaitTime">45s</p>
                            <p class="stat-change positive">-5s from yesterday</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon green">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                        </div>
                        <div class="stat-info">
                            <h3>Traffic Flow Rate</h3>
                            <p class="stat-value" id="flowRate">850 veh/h</p>
                            <p class="stat-change positive">+50 from yesterday</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon orange">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                        </div>
                        <div class="stat-info">
                            <h3>Pedestrian Requests</h3>
                            <p class="stat-value" id="pedRequests">24</p>
                            <p class="stat-change negative">+3 from yesterday</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon purple">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>
                        </div>
                        <div class="stat-info">
                            <h3>Incidents Today</h3>
                            <p class="stat-value" id="incidentCount">2</p>
                            <p class="stat-change positive">-1 from yesterday</p>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-row">
                    <div class="dashboard-card large">
                        <div class="card-header">
                            <h3>Traffic Signal Simulation</h3>
                            <div class="card-actions">
                                <div class="time-controls">
                                    <select id="timeOfDay" class="time-select">
                                        <option value="morning">Morning (7:00 AM)</option>
                                        <option value="afternoon">Afternoon (1:00 PM)</option>
                                        <option value="evening" selected>Evening (5:30 PM)</option>
                                        <option value="night">Night (9:00 PM)</option>
                                    </select>
                                </div>
                                <button id="cycleBtn" class="btn secondary-btn">Auto Cycle Time</button>
                                <button id="rushHourBtn" class="btn secondary-btn">Enable Rush Hour</button>
                                <button id="accidentBtn" class="btn secondary-btn">Simulate Accident</button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="simulation-container">
                                <div class="simulation-overlay">
                                    <div id="signalTimers" class="signal-timers">
                                        <div class="timer" id="timer0">10s</div>
                                        <div class="timer" id="timer1">10s</div>
                                        <div class="timer" id="timer2">10s</div>
                                        <div class="timer" id="timer3">10s</div>
                                    </div>
                                </div>
                                <canvas id="trafficSimulation" width="800" height="600" class="border"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-row">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Signal Control Panel</h3>
                        </div>
                        <div class="card-content">
                            <div class="signal-controls">
                                <div class="signal-control-grid">
                                    <div class="signal-control-card">
                                        <div class="signal-control-header">
                                            <h4>Signal 1 (East)</h4>
                                        </div>
                                        <div class="signal-control-content">
                                            <div class="signal-input-group">
                                                <label for="signal-0">Green Duration (seconds)</label>
                                                <input type="number" id="signal-0" min="5" max="60" value="10" class="signal-input">
                                            </div>
                                            <div class="signal-preview">
                                                <div class="signal-light red"></div>
                                                <div class="signal-light yellow"></div>
                                                <div class="signal-light green active"></div>
                                                <div class="countdown" id="countdown0">10s</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="signal-control-card">
                                        <div class="signal-control-header">
                                            <h4>Signal 2 (South)</h4>
                                        </div>
                                        <div class="signal-control-content">
                                            <div class="signal-input-group">
                                                <label for="signal-1">Green Duration (seconds)</label>
                                                <input type="number" id="signal-1" min="5" max="60" value="10" class="signal-input">
                                            </div>
                                            <div class="signal-preview">
                                                <div class="signal-light red active"></div>
                                                <div class="signal-light yellow"></div>
                                                <div class="signal-light green"></div>
                                                <div class="countdown" id="countdown1">10s</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="signal-control-card">
                                        <div class="signal-control-header">
                                            <h4>Signal 3 (West)</h4>
                                        </div>
                                        <div class="signal-control-content">
                                            <div class="signal-input-group">
                                                <label for="signal-2">Green Duration (seconds)</label>
                                                <input type="number" id="signal-2" min="5" max="60" value="10" class="signal-input">
                                            </div>
                                            <div class="signal-preview">
                                                <div class="signal-light red active"></div>
                                                <div class="signal-light yellow"></div>
                                                <div class="signal-light green"></div>
                                                <div class="countdown" id="countdown2">10s</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="signal-control-card">
                                        <div class="signal-control-header">
                                            <h4>Signal 4 (North)</h4>
                                        </div>
                                        <div class="signal-control-content">
                                            <div class="signal-input-group">
                                                <label for="signal-3">Green Duration (seconds)</label>
                                                <input type="number" id="signal-3" min="5" max="60" value="10" class="signal-input">
                                            </div>
                                            <div class="signal-preview">
                                                <div class="signal-light red active"></div>
                                                <div class="signal-light yellow"></div>
                                                <div class="signal-light green"></div>
                                                <div class="countdown" id="countdown3">10s</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="pedestrian-controls">
                                    <button id="pedestrianBtn" class="btn primary-btn">Request Pedestrian Crossing</button>
                                    <button id="cyclistBtn" class="btn primary-btn">Request Cyclist Crossing</button>
                                    <button id="emergencyBtn" class="btn danger-btn">Emergency Vehicle Override</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Recent Signal Events</h3>
                            <div class="card-actions">
                                <a href="#" class="view-all">View All</a>
                            </div>
                        </div>
                        <div class="card-content">
                            <ul class="activity-list" id="eventsList">
                                <li class="activity-item">
                                    <div class="activity-avatar">AD</div>
                                    <div class="activity-content">
                                        <h4>Admin</h4>
                                        <p>Changed Signal 2 duration to 15 seconds</p>
                                        <span class="activity-time">5 min ago</span>
                                    </div>
                                </li>
                                <li class="activity-item">
                                    <div class="activity-avatar">SY</div>
                                    <div class="activity-content">
                                        <h4>System</h4>
                                        <p>Pedestrian crossing request at Signal 3</p>
                                        <span class="activity-time">15 min ago</span>
                                    </div>
                                </li>
                                <li class="activity-item">
                                    <div class="activity-avatar">SY</div>
                                    <div class="activity-content">
                                        <h4>System</h4>
                                        <p>Rush hour mode activated automatically</p>
                                        <span class="activity-time">1 hour ago</span>
                                    </div>
                                </li>
                                <li class="activity-item">
                                    <div class="activity-avatar">JD</div>
                                    <div class="activity-content">
                                        <h4>John Doe</h4>
                                        <p>Updated all signal timings for maintenance</p>
                                        <span class="activity-time">2 hours ago</span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/traffic-simulation.js"></script>
    <script src="../js/signal-management.js"></script>
</body>
</html>